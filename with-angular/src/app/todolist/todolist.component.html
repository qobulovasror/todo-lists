<div class="container">
  <div class="card p-2 my-4">
    <h1 class="text-center">TODO lists</h1>
  </div>
  <div class="d-flex justify-content-between">
    <div class="card p-3 col-4">
      <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm.value)">
        <h2 class="text-center">Add task</h2>
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input
            type="text"
            placeholder="Task name"
            class="form-control"
            id="name"
            name="name"
            [(ngModel)]="name"
            required
          />
        </div>
        <div class="mb-3">
          <label for="desc" class="form-label">Description</label>
          <input
            type="text"
            placeholder="Description (optional)"
            class="form-control"
            id="desc"
            name="desc"
            [(ngModel)]="desc"
            required
          />
        </div>
        <div class="mb-3">
          <label for="priority" class="form-label">Priority</label>
          <select
            class="form-select"
            id="priority"
            name="priority"
            [(ngModel)]="priority"
          >
            <option value="hight">Hight</option>
            <option value="medium" selected>Medium</option>
            <option value="low">Low</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="Status" class="form-label">Status</label>
          <select
            class="form-select"
            id="Status"
            name="status"
            aria-label="Default select example"
            [(ngModel)]="status"
          >
            <option value="pending" selected>Pending</option>
            <option value="ongoing">Ongoing</option>
            <option value="complete">Complete</option>
          </select>
        </div>

        <button type="submit" class="btn btn-primary">Add</button>
      </form>
    </div>

    <div
      class="col-7 d-flex flex-column"
      style="max-height: 600px; overflow: hidden auto"
    >
      <div class="card p-3 mb-3" *ngFor="let task of taks; index as i">
        <div class="d-flex justify-content-start mb-2">
          <span class="badge fs-6 me-3" [class.text-bg-danger]="task.priority=='hight'" [class.text-bg-warning]="task.priority=='hight'" [class.text-bg-success]="task.priority=='hight'">{{
            task.priority
          }}</span>
          <span class="badge fs-6 me-3"  [class.text-bg-danger]="task.status=='pending'" [class.text-bg-warning]="task.status=='ongoing'" [class.text-bg-success]="task.status=='complete'">{{ task.status }}</span>
        </div>
        <h5 class="card-title fw-bold">{{ task.name }}</h5>
        <p>{{ task.desc }}</p>
        <div class="d-flex justify-content-end mt-2">
          <button type="button" class="btn btn-danger me-2" (click)="onDeleteTask(i)">Delete</button>
          <button type="button" class="btn btn-primary me-2" (click)="onEditTask(i)">Edit</button>
          <button type="button" class="btn btn-success me-2" *ngIf="task.status!='complete'" (click)="onComplete(i)">complete</button>
        </div>
      </div>
    </div>
  </div>
</div>
